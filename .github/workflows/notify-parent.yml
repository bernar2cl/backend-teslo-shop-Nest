name: ðŸ”” Notify Parent Repository

on:
  push:
    branches:
      - '**' # ðŸ‘ˆ se ejecuta en cualquier rama (main, master, develop, feature/*, etc.)

jobs:
  trigger-parent:
    runs-on: ubuntu-latest

    steps:
      - name: ðŸ”— Notify parent repository
        uses: peter-evans/repository-dispatch@v3
        with:
          # ðŸ” Token del repo principal (PARENT_REPO_TOKEN)
          token: ${{ secrets.PARENT_REPO_TOKEN }}

          # ðŸ“¦ Nombre del repositorio principal
          repository: bernar2cl/Proyectos-React-TypeScript

          # ðŸ§© Tipo de evento personalizado que escucharÃ¡ el repo principal
          event-type: submodule-updated

          # ðŸ’¬ InformaciÃ³n opcional para enviar al repo principal
          client-payload: >
            {
              "submodule": "${{ github.repository }}",
              "branch": "${{ github.ref_name }}",
              "commit": "${{ github.sha }}"
            }
